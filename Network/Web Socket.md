## Web Socket

---

### WebSocket

- **설명**

웹 브라우저와 서버 간에 실시간으로 양방향 통신을 할 수 있게 해주는 프로토콜.

HTTP가 요청을 보내면 답을 주는 방식이라면, WebSocket은 한 번 연결되면 서로 자유롭게 대화하는 방식.


### WebSocket이 필요한 이유

기존의 HTTP 통신은 단방향(실시간 알림을 받으려면 클라이언트가 서버에 계속 물어봐야 했음,Polling)이었는데, 이는 비효율적이고 서버에 부하를 줌.
WebSocket은 이 문제를 해결할 수 있는데, 문을 한 번 열어두면, 서버가 원할 때 언제든지 클라이언트에게 데이터를 보낼 수 있음.


### WebSocket의 특징

- **양방향 통신 (Full-Duplex)**: 클라이언트와 서버가 서로에게 언제든지 데이터를 보낼 수 있음.

- **실시간성 (Real-time)**: 연결이 유지되어 있으므로 데이터 전송이 매우 빠름.

- **가벼운 오버헤드**: 처음 연결할 때만 HTTP를 사용하고, 이후에는 매우 적은 양의 헤더만 사용하여 데이터를 주고받으므로 효율적임.

- **프로토콜 접두어**: http:// 대신 ws:// (보안 적용 시 wss://)를 사용.


### 연결 방법 (Handshake)

0. WebSocket도 처음 시작은 HTTP로 합니다. 이를 핸드셰이크(Handshake)라고 함.

1. 클라이언트가 서버에 HTTP 요청. "나 WebSocket으로 업그레이드하고 싶어!" (Upgrade: websocket 헤더 포함)

2. 서버가 이를 수락하면 (101 Switching Protocols),

3. 그때부터 연결이 끊기지 않는 WebSocket 통신으로 전환(Switching).


### 주로 언제 사용하는가?

데이터가 자주 바뀌고, 그 변경 사항을 사용자에게 즉시 보여줘야 할 때 필수적.

- **실시간 채팅 앱**: 카카오톡, 슬랙 등

- **실시간 주식/코인 거래소**: 가격이 실시간으로 변동되는 차트

- **멀티플레이어 게임**: 다른 유저의 움직임이 내 화면에 바로 보여야 할 때

- **협업 도구**: Google Docs처럼 여러 명이 동시에 문서를 편집할 때

- **스포츠 중계**: 실시간 스코어 업데이트




