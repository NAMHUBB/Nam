## TCP Socket

**TCP Socket**은 쉽게 말해 네트워크상에서 두 프로그램이 서로 데이터를 주고받을 수 있도록 연결해 주는 '대화의 창구' 또는 '연결 단자'.

전화를 할 때 양쪽에 전화기가 있고 전화선으로 연결되는 것처럼, 컴퓨터끼리 통신할 때도 논리적인 연결 통로가 필요한데 그게 바로 소켓.

### 소켓을 이해하는 개념
   
소켓은 기본적으로 [IP 주소]와 [포트(Port) 번호]의 결합으로 이루어짐.

- **IP 주소**: 데이터가 도착해야 할 컴퓨터의 주소 

- **포트 번호**: 그 컴퓨터 안에서 데이터를 처리할 프로그램의 번호 

### 왜 'TCP' 소켓인가?

소켓 통신 방식에는 여러 종류가 있지만, 그중 TCP(Transmission Control Protocol) 방식은 

- **연결 지향**: 데이터를 보내기 전에 먼저 상대방과 연결이 잘 되었는지 확인.

- **신뢰성 보장**: 데이터가 중간에 유실되지 않았는지, 순서가 바뀌지 않았는지 체크해서 전달.

- **양방향 통신**: 한쪽에서만 보내는 게 아니라 양쪽에서 동시에 데이터를 주고받을 수 있음.

### 소켓의 식별: 5-Tuple

- **Source IP: 보내는 쪽 주소**

- **Source Port: 보내는 쪽 포트**

- **Destination IP: 받는 쪽 주소**
  
- **Destination Port: 받는 쪽 포트**

- **Protocol: TCP**


### 연결과 해제

#### 3-Way Handshake (연결 시작)

: 데이터를 보내기 전, 서로 준비가 되었는지 확인하는 3단계 절차.

- **SYN(Synchronize)**: 클라이언트가 서버에게 "접속하고 싶어"라고 신호를 보냄.

- **SYN + ACK**: 서버가 "그래, 확인했어. 나도 준비됐어"라고 응답.

- **ACK(Acknowledgment)**: 클라이언트가 "확인했어, 이제 데이터 보낼게"라고 최종 응답.

#### 4-Way Handshake (연결 종료)

: 데이터 전송이 끝난 후 안전하게 통로를 닫는 4단계 절차.

- **FIN(FINSH)**: 한쪽에서 "이제 보낼 데이터 없어"라고 알림.

- **ACK**: 상대방이 "알았어, 잠시만 기다려줘(남은 것 좀 보낼게)"라고 응답.

- **FIN**: 상대방도 "나도 다 보냈어. 이제 닫을게"라고 알림.

- **ACK**: 처음 닫자고 한 쪽에서 "확인했어"라고 끝냄.
































